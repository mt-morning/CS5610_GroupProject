!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=14)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-bootstrap")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("react-router-bootstrap")},function(e,t){e.exports=require("url-search-params")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("webpack")},function(e,t){e.exports=require("dotenv")},function(e,t){e.exports=require("http-proxy-middleware")},function(e,t){e.exports=require("source-map-support")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("isomorphic-fetch")},function(e,t){e.exports=require("serialize-javascript")},function(e,t,n){e.exports=n(20)},function(e,t){e.exports=require("webpack-dev-middleware")},function(e,t){e.exports=require("webpack-hot-middleware")},function(e,t,n){(function(t){const a=n(18),r=n(7),o=n(19),l={mode:"development",entry:{app:["./browser/App.jsx"]},output:{filename:"[name].bundle.js",path:a.resolve(t,"public"),publicPath:"/"},module:{rules:[{test:/\.jsx?$/,exclude:/node_modules/,use:{loader:"babel-loader",options:{presets:[["@babel/preset-env",{targets:{ie:"11",edge:"15",safari:"10",firefox:"50",chrome:"49"}}],"@babel/preset-react"]}}}]},optimization:{splitChunks:{name:"vendor",chunks:"all"}},plugins:[new r.DefinePlugin({__isBrowser__:"true"})],devtool:"source-map"},i={mode:"development",entry:{server:["./server/uiserver.js"]},target:"node",externals:[o()],output:{filename:"server.js",path:a.resolve(t,"dist"),publicPath:"/"},module:{rules:[{test:/\.jsx?$/,use:{loader:"babel-loader",options:{presets:[["@babel/preset-env",{targets:{node:"10"}}],"@babel/preset-react"]}}}]},plugins:[new r.DefinePlugin({__isBrowser__:"false"})],devtool:"source-map"};e.exports=[l,i]}).call(this,"/")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("webpack-node-externals")},function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),o=n(6),l=n.n(o),i=n(9),s=n.n(i),c=n(10),u=n.n(c),d=n(0),p=n.n(d),m=n(11),h=n.n(m),E=n(2),v=n(1),y=n(3),g=n(4),f=n.n(g);class b extends p.a.Component{constructor({location:{search:e}}){super();const t=new f.a(e);this.state={quantity:t.get("quantity")||"",changed:!1},this.onChangeStatus=this.onChangeStatus.bind(this),this.applyFilter=this.applyFilter.bind(this),this.showOriginalFilter=this.showOriginalFilter.bind(this)}componentDidUpdate(e){const{location:{search:t}}=e,{location:{search:n}}=this.props;t!==n&&this.showOriginalFilter()}onChangeStatus(e){this.setState({quantity:e.target.value,changed:!0})}showOriginalFilter(){const{location:{search:e}}=this.props,t=new f.a(e);this.setState({quantity:t.get("quantity")||"",changed:!1})}applyFilter(){const{quantity:e}=this.state,{history:t}=this.props;t.push({pathname:"/products",search:e?"?quantity="+e:""})}render(){const{quantity:e,changed:t}=this.state;return p.a.createElement("div",null,"Filter by quantity:"," ",p.a.createElement("select",{value:e,onChange:this.onChangeStatus},p.a.createElement("option",{value:""},"(All Products)"),p.a.createElement("option",{value:"1"},"Low Stock (1)"),p.a.createElement("option",{value:"0"},"Out of Stock (0)"))," ",p.a.createElement(v.Button,{bsStyle:"primary",type:"button",onClick:this.applyFilter},"Apply")," ",p.a.createElement(v.Button,{type:"button",onClick:this.showOriginalFilter,disabled:!t},"Reset"))}}var C=Object(E.withRouter)(b);const x=Object(E.withRouter)(({product:e,location:{search:t},deleteProduct:n,index:a})=>{const r={pathname:"/products/"+e.id,search:t},o=p.a.createElement(v.Tooltip,{id:"close-tooltip",placement:"top"},"Edit Inventory"),l=p.a.createElement(v.Tooltip,{id:"delete-tooltip",placement:"top"},"Delete Inventory");const i=p.a.createElement("tr",null,p.a.createElement("td",null,e.id),p.a.createElement("td",null,e.description),p.a.createElement("td",null,e.createdDate?e.createdDate.toDateString():" "),p.a.createElement("td",null,e.expirationDate?e.expirationDate.toDateString():" "),p.a.createElement("td",null,e.quantity),p.a.createElement("td",null,p.a.createElement(y.LinkContainer,{to:"/edit/"+e.id},p.a.createElement(v.OverlayTrigger,{delayShow:1e3,overlay:o},p.a.createElement(v.Button,{bsSize:"xsmall"},p.a.createElement(v.Glyphicon,{glyph:"edit"}))))," ",p.a.createElement(v.OverlayTrigger,{delayShow:1e3,overlay:l},p.a.createElement(v.Button,{bsSize:"xsmall",onClick:function(e){e.preventDefault(),n(a)}},p.a.createElement(v.Glyphicon,{glyph:"trash"})))));return p.a.createElement(y.LinkContainer,{to:r},i)});function D({inventory:e,deleteProduct:t}){const n=e.map((e,n)=>p.a.createElement(x,{key:e.id,product:e,deleteProduct:t,index:n}));return p.a.createElement(v.Table,{bordered:!0,condensed:!0,hover:!0,responsive:!0},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,"ID"),p.a.createElement("th",null,"Description"),p.a.createElement("th",null,"Created"),p.a.createElement("th",null,"Expiration Date"),p.a.createElement("th",null,"Quantity"),p.a.createElement("th",null,"Action"))),p.a.createElement("tbody",null,n))}var w=n(5),S=n.n(w);class I extends p.a.Component{constructor(){super(),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){e.preventDefault();const t=document.forms.productAdd,n={description:t.description.value,quantity:t.quantity.value,createdDate:new Date((new Date).getTime()+864e6)},{addProduct:a}=this.props;a(n),t.description.value="",t.quantity.value=""}render(){return p.a.createElement("form",{name:"productAdd",onSubmit:this.handleSubmit},p.a.createElement("input",{type:"text",name:"description",placeholder:"Product Name"}),p.a.createElement("input",{type:"text",name:"quantity",placeholder:"Quantity"}),p.a.createElement("button",{type:"submit"},"Add"))}}I.propTypes={addProduct:S.a.func.isRequired};var P=n(12),q=n.n(P);const N=new RegExp("^\\d\\d\\d\\d-\\d\\d-\\d\\d");function _(e,t){return N.test(t)?new Date(t):t}async function O(e,t={}){const n=process.env.UI_SERVER_API_ENDPOINT;try{const a=await q()(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:t})}),r=await a.text(),o=JSON.parse(r,_);if(o.errors){const e=o.errors[0];if("BAD_USER_INPUT"===e.extensions.code){const t=e.extensions.exception.errors.join("\n ");alert(`${e.message}:\n ${t}`)}else alert(`${e.extensions.code}: ${e.message}`)}return o.data}catch(e){return alert("Error in sending data to server: "+e.message),null}}class T extends p.a.Component{constructor(){super(),this.state={product:{}}}componentDidMount(){this.loadData()}componentDidUpdate(e){const{match:{params:{id:t}}}=e,{match:{params:{id:n}}}=this.props;t!==n&&this.loadData()}async loadData(){const{match:{params:{id:e}}}=this.props,t=await O("query product($id: Int!) {\n      product (id: $id) {\n        id information\n      }\n    }",{id:parseInt(e,10)});t?this.setState({product:t.product}):this.setState({product:{}})}render(){const{product:{information:e}}=this.state;return p.a.createElement("div",null,p.a.createElement("h3",null,"Information"),p.a.createElement("pre",null,e))}}class A extends p.a.Component{constructor(){super(),this.state={inventory:[]},this.addProduct=this.addProduct.bind(this),this.deleteProduct=this.deleteProduct.bind(this)}componentDidMount(){this.loadData()}componentDidUpdate(e){const{location:{search:t}}=e,{location:{search:n}}=this.props;t!==n&&this.loadData()}async loadData(){const{location:{search:e}}=this.props,t=new f.a(e),n={};t.get("quantity")&&(n.quantity=parseInt(t.get("quantity"),10)),console.log("Loading data....");const a=await O("query productList($quantity: Int) {\n      productList(quantity: $quantity) {\n        id description createdDate\n        expirationDate quantity\n      }\n    }",n);a&&(console.log("Data retrieved from server."),this.setState({inventory:a.productList}))}async addProduct(e){e.quantity=1;const t="mutation productAdd($product: ProductInputs!) {\n          productAdd(product: $product) {\n            id\n          }\n        }";console.log("add issue query:",t);await O(t,{product:e})&&this.loadData()}async deleteProduct(e){const{inventory:t}=this.state,{location:{pathname:n,search:a},history:r}=this.props,{id:o}=t[e],l=await O("mutation productDelete($id: Int!) {\n      productDelete(id: $id)\n    }",{id:parseInt(o,10)});l&&l.productDelete?this.setState(t=>{const l=[...t.inventory];return n==="/products/"+o&&r.push({pathname:"/products",search:a}),l.splice(e,1),{inventory:l}}):this.loadData()}render(){const{inventory:e}=this.state,{match:t}=this.props;return p.a.createElement(p.a.Fragment,null,p.a.createElement(v.Panel,null,p.a.createElement(v.Panel.Heading,null,p.a.createElement(v.Panel.Title,{toggle:!0},"Filter")),p.a.createElement(v.Panel.Body,{collapsible:!0},p.a.createElement(C,null))),p.a.createElement("hr",null),p.a.createElement(D,{inventory:e,deleteProduct:this.deleteProduct}),p.a.createElement("hr",null),p.a.createElement(I,{addProduct:this.addProduct}),p.a.createElement("hr",null),p.a.createElement(E.Route,{path:t.path+"/:id",component:T}))}}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class F extends p.a.Component{constructor(e){var t;super(e),this.state={value:(t=e.value,null!=t?t.toString():"")},this.onBlur=this.onBlur.bind(this),this.onChange=this.onChange.bind(this)}onChange(e){e.target.value.match(/^\d*$/)&&this.setState({value:e.target.value})}onBlur(e){const{onChange:t}=this.props,{value:n}=this.state;t(e,function(e){const t=parseInt(e,10);return Number.isNaN(t)?null:t}(n))}render(){const{value:e}=this.state;return p.a.createElement("input",k({type:"text"},this.props,{value:e,onBlur:this.onBlur,onChange:this.onChange}))}}class j extends p.a.Component{constructor(e){var t;super(e),this.state={value:(t=e.value,null!=t?t.toISOString().substr(0,10):""),focused:!1,valid:!0},this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onChange=this.onChange.bind(this)}onFocus(){this.setState({focused:!0})}onBlur(e){const{value:t,valid:n}=this.state,{onValidityChange:a,onChange:r}=this.props,o=function(e){const t=new Date(e);return Number.isNaN(t.getTime())?null:t}(t),l=""===t||null!=o;l!==n&&a&&a(e,l),this.setState({focused:!1,valid:l}),l&&r(e,o)}onChange(e){e.target.value.match(/^[\d-]*$/)&&this.setState({value:e.target.value})}render(){const{valid:e,focused:t,value:n}=this.state,{value:a,name:r}=this.props,o=e||t?null:"invalid",l=t||!e?n:null!=(i=a)?i.toDateString():"";var i;return p.a.createElement("input",{type:"text",size:20,name:r,className:o,value:l,placeholder:t?"yyyy-mm-dd":null,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange})}}var $={};class U extends p.a.Component{static async fetchData(e,t){const{params:{id:n}}=e;return await O("query product($id: Int!) {\n      product(id: $id) {\n        id description createdDate expirationDate\n        quantity category information\n      }\n    }",{id:parseInt(n,10)})}constructor(){super();const e=$.initialData?$.initialData.product:null;delete $.initialData,this.state={product:e,invalidFields:{}},this.onChange=this.onChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.onValidityChange=this.onValidityChange.bind(this)}componentDidMount(){const{product:e}=this.state;null==e&&this.loadData()}componentDidUpdate(e){const{match:{params:{id:t}}}=e,{match:{params:{id:n}}}=this.props;n!==t&&this.loadData()}onChange(e,t){const{name:n,value:a}=e.target,r=void 0===t?a:t;this.setState(e=>({product:{...e.product,[n]:r}}))}onValidityChange(e,t){const{name:n}=e.target;this.setState(e=>{const a={...e.invalidFields,[n]:!t};return t&&delete a[n],{invalidFields:a}})}async handleSubmit(e){e.preventDefault();const{product:t,invalidFields:n}=this.state;if(0!==Object.keys(n).length)return;const{id:a,created:r,...o}=t,l=await O("mutation productUpdate(\n      $id: Int!\n      $changes: ProductUpdateInputs!\n    ) {\n      productUpdate(\n        id: $id\n        changes: $changes\n      ) {\n        id description createdDate expirationDate \n        quantity category information \n      }\n    }",{changes:o,id:parseInt(a,10)});l&&(this.setState({product:l.productUpdate}),alert("Updated product successfully"))}async loadData(){const{match:e}=this.props,t=await U.fetchData(e,null,this.showError);this.setState({product:t?t.product:{},invalidFields:{}})}render(){const{product:e}=this.state;if(null===e)return null;const{product:{id:t}}=this.state,{match:{params:{id:n}}}=this.props;if(null===t)return null!=n?p.a.createElement("h3",null,`Product with ID ${n} not found at all.`):null;const{invalidFields:a}=this.state;let r;0!==Object.keys(a).length&&(r=p.a.createElement("div",{className:"error"},"Please correct invalid fields before submitting."));const{product:{description:o,quantity:l}}=this.state,{product:{category:i,information:s}}=this.state,{product:{createdDate:c,expirationDate:u}}=this.state;return p.a.createElement("form",{onSubmit:this.handleSubmit},p.a.createElement("h3",null,"Editing product: "+t),p.a.createElement("table",null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",null,"Description:"),p.a.createElement("td",null,p.a.createElement("textarea",{rows:8,cols:50,name:"description",value:o,onChange:this.onChange}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Created:"),p.a.createElement("td",null,p.a.createElement(j,{name:"createdDate",value:c,onChange:this.onChange,onValidityChange:this.onValidityChange,key:t}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Expiration:"),p.a.createElement("td",null,p.a.createElement(j,{name:"expirationDate",value:u,onChange:this.onChange,onValidityChange:this.onValidityChange,key:t}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Quantity:"),p.a.createElement("td",null,p.a.createElement(F,{name:"quantity",value:l,onChange:this.onChange,key:t}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Category:"),p.a.createElement("td",null,p.a.createElement("select",{name:"category",value:i,onChange:this.onChange},p.a.createElement("option",{value:"Muffin"},"Muffin"),p.a.createElement("option",{value:"Cupcake"},"Cupcake"),p.a.createElement("option",{value:"Cake"},"Cake"),p.a.createElement("option",{value:"Cookie"},"Cookie"),p.a.createElement("option",{value:"Pastry"},"Pastry"),p.a.createElement("option",{value:"Other"},"Other")))),p.a.createElement("tr",null,p.a.createElement("td",null,"Information:"),p.a.createElement("td",null,p.a.createElement("textarea",{rows:8,cols:50,name:"information",value:s,onChange:this.onChange}))),p.a.createElement("tr",null,p.a.createElement("td",null),p.a.createElement("td",null,p.a.createElement("button",{type:"submit"},"Submit"))))),r,p.a.createElement(E.Link,{to:"/edit/"+(t-1)},"Prev")," | ",p.a.createElement(E.Link,{to:"/edit/"+(t+1)},"Next"))}}class R extends p.a.Component{static async fetchData(){return await O("query {about}")}constructor(e){super(e);const t=$.initialData?$.initialData.about:null;delete $.initialData,this.state={apiAbout:t}}async componentDidMount(){const{apiAbout:e}=this.state;if(null==e){const e=await R.fetchData();this.setState({apiAbout:e.about})}}render(){const{apiAbout:e}=this.state;return p.a.createElement("div",{className:"text-center"},p.a.createElement("h3",null,"Inventory Tracker version 0.9"),p.a.createElement("h4",null,e))}}var B=function(){return p.a.createElement("h1",null,"Page Not Found")};class L extends p.a.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this)}async handleSubmit(e){e.preventDefault();const t=document.forms.accountCreate,n={username:t.username.value,password:t.password.value,role:t.options.value};await O("mutation createUser($user: UserInputs!) {\n          userAdd(user: $user) {\n            username password role\n          }\n        }",{user:n})&&this.setState({accountCreated:!0}),t.username.value="",t.password.value=""}render(){return p.a.createElement("form",{onSubmit:this.handleSubmit,name:"accountCreate"},p.a.createElement(v.FormGroup,null,p.a.createElement(v.Col,{sm:3},p.a.createElement(v.ControlLabel,null,"Account Information"),p.a.createElement(v.FormControl,{type:"text",name:"username",placeholder:"username"}),p.a.createElement(v.FormControl,{type:"password",name:"password",placeholder:"password"}),p.a.createElement(v.ButtonToolbar,null,p.a.createElement(v.ToggleButtonGroup,{justified:!0,type:"radio",name:"options",defaultValue:"User"},p.a.createElement(v.ToggleButton,{name:"admin",value:"Admin"},"Admin"),p.a.createElement(v.ToggleButton,{value:"User"},"Non-Admin"))),p.a.createElement(v.Button,{bsType:"submit"},"Create"))))}}L.propTypes={addUser:S.a.func};class V extends p.a.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this)}async handleSubmit(e){e.preventDefault();const t=document.forms.loginForm;let n=t.username.value,a=t.password.value;null!==(await O("query ($username: String!, $password:String!) {\n        user (username: $username, password: $password) {\n          _id\n        }\n    }",{username:n,password:a})).user?alert("account exists!"):alert("doesn't exist"),t.username.value="",t.password.value=""}onSuccess(e){this.state={authenticated:!0}}render(){return p.a.createElement("form",{onSubmit:this.handleSubmit,name:"loginForm"},p.a.createElement(v.FormGroup,null,p.a.createElement(v.Col,{sm:3},p.a.createElement(v.FormControl,{type:"text",name:"username",placeholder:"username"}),p.a.createElement(v.FormControl,{type:"password",name:"password",placeholder:"password"}),p.a.createElement("button",{bsType:"submit"},"Log-In"))))}}var M=[{path:"/products",component:A},{path:"/edit/:id",component:U},{path:"/report",component:function(){return p.a.createElement("div",null,p.a.createElement("h2",null,"This is a placeholder for the Product Report"))}},{path:"/about",component:R},{path:"/sign-in",component:function(){return p.a.createElement("div",null,p.a.createElement(v.Grid,null,p.a.createElement(v.Tabs,{defaultActiveKey:"Login",id:"home"},p.a.createElement(v.Tab,{eventKey:"Create",title:"Create Account"},p.a.createElement("h1",null,"Create an Account"),p.a.createElement(L,null)),p.a.createElement(v.Tab,{eventKey:"Login",title:"Log-In"},p.a.createElement("h1",null,"Login with Existing Account"),p.a.createElement(V,{style:{alignSelf:"flex-end"}})))))}},{path:"*",component:B}];function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class z extends p.a.Component{constructor(e){super(e),this.state={authenticated:!1}}render(){return p.a.createElement(E.Switch,null,p.a.createElement(E.Redirect,{exact:!0,from:"/",to:"/products"}),M.map(e=>p.a.createElement(E.Route,G({},e,{key:e.path}))))}}function H(){return p.a.createElement(v.Navbar,null,p.a.createElement(v.Navbar.Header,null,p.a.createElement(v.Navbar.Brand,null,"Inventory Tracker")),p.a.createElement(v.Nav,null,p.a.createElement(y.LinkContainer,{exact:!0,to:"/"},p.a.createElement(v.NavItem,null,"Home")),p.a.createElement(y.LinkContainer,{to:"/about"},p.a.createElement(v.MenuItem,null,"About")),p.a.createElement(y.LinkContainer,{to:"/sign-in"},p.a.createElement(v.NavItem,null,"Sign in")),p.a.createElement(y.LinkContainer,{to:"/products"},p.a.createElement(v.NavItem,null,"Inventory Overview ")),p.a.createElement(y.LinkContainer,{to:"/report"},p.a.createElement(v.NavItem,null,"Report")),p.a.createElement(y.LinkContainer,{to:"/remove"},p.a.createElement(v.NavItem,null,"Remove Product"))),p.a.createElement(v.Nav,{pullRight:!0},p.a.createElement(v.NavItem,null,p.a.createElement(v.OverlayTrigger,{placement:"left",delayShow:1e3,overlay:p.a.createElement(v.Tooltip,{id:"/products"},"Add Product")},p.a.createElement(v.Glyphicon,{glyph:"plus"})))))}class J extends p.a.Component{render(){return p.a.createElement("div",null,p.a.createElement(H,{authenticated:this.props.authenticated}),p.a.createElement(v.Grid,{fluid:!0},p.a.createElement(z,null)))}}var K=n(13),Q=n.n(K);var X=async function(e,t){const n=M.find(t=>Object(E.matchPath)(e.path,t));let a;if(n&&n.component.fetchData){const t=Object(E.matchPath)(e.path,n),r=e.url.indexOf("?"),o=-1!==r?e.url.substr(r):null;a=await n.component.fetchData(t,o)}$.initialData=a;const r={},o=p.a.createElement(E.StaticRouter,{location:e.url,context:r},p.a.createElement(J,null)),l=h.a.renderToString(o);r.url?t.redirect(301,r.url):t.send(function(e,t){return`\n        <html>\n        <head>\n           <meta charset="utf-8">\n           <title>Inventory Management</title>\n           <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">\n                        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n\n                            <style>\n                                table.table-hover tr {\n                                    cursor: pointer;\n        }\n        .panel-title a {\n                                    display: block;\n            width: 100%;\n            cursor: pointer;\n        }\n    </style>\n</head>\n                        <body>\n                            \x3c!-- Page generated from template. --\x3e\n                            <div id="content">${e}</div>\n                            <script>window.__INITIAL_DATA__ = ${Q()(t)}<\/script>\n                            <script src="/env.js"><\/script>\n                            <script src="/vendor.bundle.js"><\/script>\n                            <script src="/app.bundle.js"><\/script>\n                        </body>\n</html>\n`}(l,a))};const Y=l()();u.a.install(),r.a.config();process.env.ENABLE_HMR;Y.use(l.a.static("public"));const W=process.env.API_PROXY_TARGET;W&&Y.use("/graphql",s()({target:W})),console.log(process.env.UI_API_ENDPOINT),process.env.UI_API_ENDPOINT||(process.env.UI_API_ENDPOINT="http://localhost:3000/graphql"),process.env.UI_SERVER_API_ENDPOINT||(process.env.UI_SERVER_API_ENDPOINT=process.env.UI_API_ENDPOINT),Y.get("/env.js",(e,t)=>{const n={UI_API_ENDPOINT:process.env.UI_API_ENDPOINT};t.send("window.ENV = "+JSON.stringify(n))}),Y.get("*",(e,t,n)=>{X(e,t,n)}),Y.get("*",(e,t)=>{t.sendFile(path.resolve("public/index.html"))});const Z=process.env.UI_SERVER_PORT||8e3;Y.listen(Z,()=>{console.log("UI started on port "+Z)})}]);
//# sourceMappingURL=server.js.map